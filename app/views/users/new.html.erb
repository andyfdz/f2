
<div class="container">
  <h1>Crea un nuevo usuario</h1>
  <%= form_for(@user,html:{multipart:true}) do |f| %>

 <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name %>
  </div>
  <div class="field">
    <%= f.label :last_name %><br>
    <%= f.text_field :last_name %>
  </div>
  <div class="field">
    <%= f.label :username %><br>
    <%= f.text_field :username %>
  </div>
    <div class="field">
    <%= f.label :latitude %><br />
    <%= f.text_field :latitude, readonly: true, id: 'latitude' %>
  </div>

  <div class="field">
    <%= f.label :longitude %><br />
    <%= f.text_field :longitude, readonly: true, id: 'longitude' %>
  </div>
  <div class="field">
    <%= f.label :photo %><br>
    <%= f.file_field :photo %>
  </div>
  <div class="field">
    <%= f.label :email %><br>
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :password %><br>
    <%= f.password_field :password %>
  </div>
  <div class="field">
    <%= f.label :password_confirmation %><br>
    <%= f.password_field :password_confirmation %>
  </div>

  <div class="field">
    <%= f.label :sector_id %><br>
    <%= f.select :sector_id, Sector.all.collect{|s| [s.name, s.id]} %>
  </div>
  
  <div class="actions">
    <%= f.submit %>
  </div>

</div>

 <% end %>
 <script>

function getLocation() 
{
  if (navigator.geolocation) 
  { 
    navigator.geolocation.getCurrentPosition(function(position){
      document.getElementById('latitude').value = position.coords.latitude;
      document.getElementById('longitude').value = position.coords.longitude;
    });
  } 
}
 
window.onload = getLocation;

</script>
